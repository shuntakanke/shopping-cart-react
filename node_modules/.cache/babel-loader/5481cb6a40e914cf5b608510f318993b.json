{"ast":null,"code":"import _defineProperty from\"/Users/shunta/Desktop/portfolio/react-shopping-cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/Users/shunta/Desktop/portfolio/react-shopping-cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/shunta/Desktop/portfolio/react-shopping-cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/shunta/Desktop/portfolio/react-shopping-cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/shunta/Desktop/portfolio/react-shopping-cart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import formatCurrency from\"../util\";import Fade from\"react-reveal/Fade\";import{connect}from\"react-redux\";import Modal from\"react-modal\";import Zoom from\"react-reveal/Zoom\";import{removeFromCart}from\"../actions/cartActions\";import{createOrder,clearOrder}from\"../actions/orderActions\";var Cart=/*#__PURE__*/function(_Component){_inherits(Cart,_Component);var _super=_createSuper(Cart);function Cart(props){var _this;_classCallCheck(this,Cart);_this=_super.call(this,props);_this.handleInput=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};_this.createOrder=function(e){e.preventDefault();var order={name:_this.state.name,email:_this.state.email,address:_this.state.address,cartItems:_this.props.cartItems,total:_this.props.cartItems.reduce(function(a,c){return a+c.price*c.count;},0)};_this.props.createOrder(order);};_this.closeModal=function(){_this.props.clearOrder();};_this.state={name:\"\",email:\"\",address:\"\",showCheckout:false};return _this;}_createClass(Cart,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,cartItems=_this$props.cartItems,order=_this$props.order;return/*#__PURE__*/React.createElement(\"div\",null,cartItems.length===0?/*#__PURE__*/React.createElement(\"div\",{className:\"cart cart-header\"},\"Cart is empty\"):/*#__PURE__*/React.createElement(\"div\",{className:\"cart cart-header\"},\"You have \",cartItems.length,\" in the cart\",\" \"),order&&/*#__PURE__*/React.createElement(Modal,{isOpen:true,onRequestClose:this.closeModal},/*#__PURE__*/React.createElement(Zoom,null,/*#__PURE__*/React.createElement(\"button\",{className:\"close-modal\",onClick:this.closeModal},\"x\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order-details\"},/*#__PURE__*/React.createElement(\"h3\",{className:\"success-message\"},\"Your order has been placed.\"),/*#__PURE__*/React.createElement(\"h2\",null,\"Order \",order._id),/*#__PURE__*/React.createElement(\"ul\",null,/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Name:\"),/*#__PURE__*/React.createElement(\"div\",null,order.name)),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Email:\"),/*#__PURE__*/React.createElement(\"div\",null,order.email)),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Address:\"),/*#__PURE__*/React.createElement(\"div\",null,order.address)),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Date:\"),/*#__PURE__*/React.createElement(\"div\",null,order.createdAt)),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Total:\"),/*#__PURE__*/React.createElement(\"div\",null,formatCurrency(order.total))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"div\",null,\"Cart Items:\"),/*#__PURE__*/React.createElement(\"div\",null,order.cartItems.map(function(x){return/*#__PURE__*/React.createElement(\"div\",null,x.count,\" \",\" x \",\" \",x.title);}))))))),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"cart\"},/*#__PURE__*/React.createElement(Fade,{left:true,cascade:true},/*#__PURE__*/React.createElement(\"ul\",{className:\"cart-items\"},cartItems.map(function(item){return/*#__PURE__*/React.createElement(\"li\",{key:item._id},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"img\",{src:item.image,alt:item.title})),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",null,item.title),/*#__PURE__*/React.createElement(\"div\",{className:\"right\"},formatCurrency(item.price),\" x \",item.count,\" \",/*#__PURE__*/React.createElement(\"button\",{className:\"button\",onClick:function onClick(){return _this2.props.removeFromCart(item);}},\"Remove\"))));})))),cartItems.length!==0&&/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"div\",{className:\"cart\"},/*#__PURE__*/React.createElement(\"div\",{className:\"total\"},/*#__PURE__*/React.createElement(\"div\",null,\"Total:\",\" \",formatCurrency(cartItems.reduce(function(a,c){return a+c.price*c.count;},0))),/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){_this2.setState({showCheckout:true});},className:\"button primary\"},\"Proceed\"))),this.state.showCheckout&&/*#__PURE__*/React.createElement(Fade,{right:true,cascade:true},/*#__PURE__*/React.createElement(\"div\",{className:\"cart\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.createOrder},/*#__PURE__*/React.createElement(\"ul\",{className:\"form-container\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Email\"),/*#__PURE__*/React.createElement(\"input\",{name:\"email\",type:\"email\",required:true,onChange:this.handleInput})),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Name\"),/*#__PURE__*/React.createElement(\"input\",{name:\"name\",type:\"text\",required:true,onChange:this.handleInput})),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"label\",null,\"Address\"),/*#__PURE__*/React.createElement(\"input\",{name:\"address\",type:\"text\",required:true,onChange:this.handleInput})),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"button primary\",type:\"submit\"},\"Checkout\")))))))));}}]);return Cart;}(Component);export default connect(function(state){return{order:state.order.order,cartItems:state.cart.cartItems};},{removeFromCart:removeFromCart,createOrder:createOrder,clearOrder:clearOrder})(Cart);","map":{"version":3,"sources":["/Users/shunta/Desktop/portfolio/react-shopping-cart/src/components/Cart.js"],"names":["React","Component","formatCurrency","Fade","connect","Modal","Zoom","removeFromCart","createOrder","clearOrder","Cart","props","handleInput","e","setState","target","name","value","preventDefault","order","state","email","address","cartItems","total","reduce","a","c","price","count","closeModal","showCheckout","length","_id","createdAt","map","x","title","item","image","cart"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport formatCurrency from \"../util\";\nimport Fade from \"react-reveal/Fade\";\nimport { connect } from \"react-redux\";\nimport Modal from \"react-modal\";\nimport Zoom from \"react-reveal/Zoom\";\nimport { removeFromCart } from \"../actions/cartActions\";\nimport { createOrder, clearOrder } from \"../actions/orderActions\";\n\nclass Cart extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: \"\",\n      email: \"\",\n      address: \"\",\n      showCheckout: false,\n    };\n  }\n  handleInput = (e) => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n  createOrder = (e) => {\n    e.preventDefault();\n    const order = {\n      name: this.state.name,\n      email: this.state.email,\n      address: this.state.address,\n      cartItems: this.props.cartItems,\n      total: this.props.cartItems.reduce((a, c) => a + c.price * c.count, 0),\n    };\n    this.props.createOrder(order);\n  };\n  closeModal = () => {\n    this.props.clearOrder();\n  };\n  render() {\n    const { cartItems, order } = this.props;\n    return (\n      <div>\n        {cartItems.length === 0 ? (\n          <div className=\"cart cart-header\">Cart is empty</div>\n        ) : (\n          <div className=\"cart cart-header\">\n            You have {cartItems.length} in the cart{\" \"}\n          </div>\n        )}\n\n        {order && (\n          <Modal isOpen={true} onRequestClose={this.closeModal}>\n            <Zoom>\n              <button className=\"close-modal\" onClick={this.closeModal}>\n                x\n              </button>\n              <div className=\"order-details\">\n                <h3 className=\"success-message\">Your order has been placed.</h3>\n                <h2>Order {order._id}</h2>\n                <ul>\n                  <li>\n                    <div>Name:</div>\n                    <div>{order.name}</div>\n                  </li>\n                  <li>\n                    <div>Email:</div>\n                    <div>{order.email}</div>\n                  </li>\n                  <li>\n                    <div>Address:</div>\n                    <div>{order.address}</div>\n                  </li>\n                  <li>\n                    <div>Date:</div>\n                    <div>{order.createdAt}</div>\n                  </li>\n                  <li>\n                    <div>Total:</div>\n                    <div>{formatCurrency(order.total)}</div>\n                  </li>\n                  <li>\n                    <div>Cart Items:</div>\n                    <div>\n                      {order.cartItems.map((x) => (\n                        <div>\n                          {x.count} {\" x \"} {x.title}\n                        </div>\n                      ))}\n                    </div>\n                  </li>\n                </ul>\n              </div>\n            </Zoom>\n          </Modal>\n        )}\n        <div>\n          <div className=\"cart\">\n            <Fade left cascade>\n              <ul className=\"cart-items\">\n                {cartItems.map((item) => (\n                  <li key={item._id}>\n                    <div>\n                      <img src={item.image} alt={item.title}></img>\n                    </div>\n                    <div>\n                      <div>{item.title}</div>\n                      <div className=\"right\">\n                        {formatCurrency(item.price)} x {item.count}{\" \"}\n                        <button\n                          className=\"button\"\n                          onClick={() => this.props.removeFromCart(item)}\n                        >\n                          Remove\n                        </button>\n                      </div>\n                    </div>\n                  </li>\n                ))}\n              </ul>\n            </Fade>\n          </div>\n          {cartItems.length !== 0 && (\n            <div>\n              <div className=\"cart\">\n                <div className=\"total\">\n                  <div>\n                    Total:{\" \"}\n                    {formatCurrency(\n                      cartItems.reduce((a, c) => a + c.price * c.count, 0)\n                    )}\n                  </div>\n                  <button\n                    onClick={() => {\n                      this.setState({ showCheckout: true });\n                    }}\n                    className=\"button primary\"\n                  >\n                    Proceed\n                  </button>\n                </div>\n              </div>\n              {this.state.showCheckout && (\n                <Fade right cascade>\n                  <div className=\"cart\">\n                    <form onSubmit={this.createOrder}>\n                      <ul className=\"form-container\">\n                        <li>\n                          <label>Email</label>\n                          <input\n                            name=\"email\"\n                            type=\"email\"\n                            required\n                            onChange={this.handleInput}\n                          ></input>\n                        </li>\n                        <li>\n                          <label>Name</label>\n                          <input\n                            name=\"name\"\n                            type=\"text\"\n                            required\n                            onChange={this.handleInput}\n                          ></input>\n                        </li>\n                        <li>\n                          <label>Address</label>\n                          <input\n                            name=\"address\"\n                            type=\"text\"\n                            required\n                            onChange={this.handleInput}\n                          ></input>\n                        </li>\n                        <li>\n                          <button className=\"button primary\" type=\"submit\">\n                            Checkout\n                          </button>\n                        </li>\n                      </ul>\n                    </form>\n                  </div>\n                </Fade>\n              )}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default connect(\n  (state) => ({\n    order: state.order.order,\n    cartItems: state.cart.cartItems,\n  }),\n  { removeFromCart, createOrder, clearOrder }\n)(Cart);\n"]},"metadata":{},"sourceType":"module"}